<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ø¯Ù„Ø¯Ø§Ø±</title>
<style>
* { box-sizing:border-box; margin:0; padding:0; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
body { background:#f9efe3; min-height:100vh; display:flex; flex-direction:column; direction:rtl; font-size:16px; }
.header { padding:16px; background:linear-gradient(135deg,#ff6b81,#ff9a9e); color:#fff; }
.header-top { display:flex; align-items:center; gap:12px; }
.header-avatar { width:44px; height:44px; border-radius:50%; background:rgba(255,255,255,0.3); display:flex; align-items:center; justify-content:center; font-size:22px; }
.header-title { font-size:18px; font-weight:600; }
.header-subtitle { font-size:14px; opacity:.9; display:flex; align-items:center; gap:6px; }
.typing-dots span{ width:6px; height:6px; border-radius:50%; background:#fff; opacity:.4; animation: blink 1s infinite; display:inline-block; }
.typing-dots span:nth-child(2){animation-delay:.15s} .typing-dots span:nth-child(3){animation-delay:.3s}
@keyframes blink{0%,100%{opacity:.3} 50%{opacity:1}}
.chat-container { flex:1; overflow-y:auto; padding:16px; }
.chat-inner { display:flex; flex-direction:column; gap:12px; }
.bubble { display:inline-block; max-width:fit-content; padding:12px 16px; background:#dff2ff; border-radius:20px; font-size:18px; line-height:1.6; box-shadow:0 2px 5px rgba(0,0,0,.12); white-space:pre-wrap; opacity:0; transform: translateY(16px); transition:.4s ease; }
.bubble.show { opacity:1; transform:translateY(0); }
</style>
</head>
<body>

<div class="header">
  <div class="header-top">
    <div class="header-avatar">&#10084;</div>
    <div class="header-title">Ø¯Ù„Ø¯Ø§Ø±</div>
  </div>
  <div class="header-subtitle" id="typingHeader">
    is typing
    <div class="typing-dots">
      <span></span><span></span><span></span>
    </div>
  </div>
</div>

<div class="chat-container" id="chat">
  <div class="chat-inner" id="chatInner"></div>
</div>

<script>
const messages = [
  { text: "Ù…Ù† Ø¯Ù†ÛŒØ§ Ø±Ùˆ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ", delay: 1600, type:"normal" },
  { text: "ÛŒÙ‡ Ú†ÛŒØ² Ù…ÛŒ Ø®ÙˆØ§Ù…..", delay: 1800, type:"normal" },
  { text: "Ø¨Ø±Ø§ÛŒ Ù„Ø­Ø¸Ù‡ Ù‡Ø§ÛŒÛŒ Ú©Ù‡..", delay: 2000, type:"normal" },
  { text: '"ØªÙˆ" \u2764', delay: 2200, type:"normal" }, // â¤ï¸
  { text: "ØªÙˆÛŒ Ø²Ù†Ø¯Ú¯ÛŒÙ… Ø¨Ø§Ø´ÛŒ... \uD83E\uDDF5\uD83E\uDD79", delay: 2600, type:"typing" } // ðŸ«µ ðŸ¥¹ Ø¨Ø§ Surrogate Pair
];

let i=0;
const chat = document.getElementById("chat");
const chatInner = document.getElementById("chatInner");
const typingHeader = document.getElementById("typingHeader");

function scrollBottom(){ chat.scrollTo({top:chat.scrollHeight, behavior:"smooth"}); }

function addBubble(text,type){
  const bubble=document.createElement("div");
  bubble.className="bubble";
  chatInner.appendChild(bubble);
  requestAnimationFrame(()=>bubble.classList.add("show"));

  if(type==="typing"){
    let c=0;
    const timer=setInterval(()=>{
      bubble.textContent+=text[c];
      c++;
      scrollBottom();
      if(c>=text.length){
        clearInterval(timer);
        typingHeader.style.opacity=0;
        setTimeout(()=>typingHeader.remove(),600);
      }
    },90); // Ø³Ø±Ø¹Øª ØªØ§ÛŒÙ¾ Ú©Ù…ØªØ±
  } else {
    bubble.textContent=text;
  }
  scrollBottom();
}

function next(){
  if(i>=messages.length) return;
  const m=messages[i++];
  setTimeout(()=>{
    addBubble(m.text,m.type);
    next();
  }, m.delay);
}

window.onload=()=>setTimeout(next,1000);
</script>

</body>
</html>
